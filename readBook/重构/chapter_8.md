# 搬移特性
在不同的上下文之间搬移元素

## 搬移函数
- 动机  
当一个函数频繁引用其他上下文中的元素, 而对自身上下文中的元素却很少使用时, 把它搬移到其他上下文中可以减少对其他模块的依赖.
- 做法  
    1. 检查函数在上下文中引用的所有元素, 判断是否需要把它们也一起搬移
    2. 判断待搬移函数是否具有多态性和是否覆写了父类的方法
    3. 把函数复制到目标上下文中, 调整函数使其可以正常使用
    4. 把源函数修改为委托函数
    5. 
- 范例  
    - 搬移内嵌函数至顶层
    - 在类之间搬移函数

## 搬移字段
- 动机  
良好的数据结构可以令代码行为简洁明了, 糟糕的数据结构会招致很多无用难懂的代码去补救.  
搬移字段可以是数据结构更合理更易用, 可以省去去那些复杂的步骤.  
同时搬移字段之前最好先把数据做封装处理, 避免搬移裸数据, 避免使情况变得更复杂糟糕.

## 搬移语句到函数
反向重构: 搬移语句到调用者
- 动机  
如果一些语句和一个函数放在一起更像一个整体, 有助于理解, 则可以搬移语句到函数


## 搬移语句到调用者
反向重构: 搬移语句到函数
- 动机  
在软件发展过程中, 可能有一些函数已经分化出多种场景, 如果出现边界有些许偏移的函数的场景,   
但有时调用点和调用者之间的边界已经相差很远, 这时候可以考虑把语句搬到调用者附近, 使原函数便于理解

## 以函数调用取代内联代码
- 动机  
当看到代码实现的功能是已有功能的重复实现时, 可以考虑把这些代码用函数取代掉, 常见于一些库, 系统api提供的功能函数

## 移动语句
- 动机  
有关联性的代码, 尽可能同时把这些代码放在同一块地方  
比如: 需要用到某个变量时才声明它, 而不是函数在一开始就声明.


## 拆分循环
- 动机  
为了使一个循环只做一个事情, 每一个循环里不需要理解多个事情的关系,  即使最后有性能问题时也很容易优化.


## 以管道取代循环
- 动机  
有时候使用管道(map, filter, reduce)等方式编写出来的代码, 的意图表达会比用循环更清晰直接

## 移除死代码
- 动机  
遇到无用的代码应该留上注释, 标记提交的版本号, 并把它删掉, 因为如果不删掉有可能就会一直冗余在原处,   
即使以后想要再度启用它, 也可以根据注释可以快速的在版本库中把它恢复.
