# redis
Redis是一个远程数据结构服务器。它肯定比将数据存储在本地内存中要慢（因为它涉及套接字往返存取数据）。但是，它也带来了一些有趣的属性：

## Redis与直接使用内存的比较
- Redis可以被应用程序的所有进程访问，可能运行在多个节点上（本地内存无法实现）。
- Redis内存存储非常高效，并在单独的过程中完成。如果应用程序在内存被垃圾收集的平台上运行（node.js，java等），它允许处理更大的内存缓存/存储。在实践中，非常大的堆用垃圾收集语言表现不佳。
- 如果需要，Redis可以将数据保存在磁盘上。
- Redis不仅仅是一个简单的缓存：它提供了各种数据结构，各种项目驱逐策略，阻塞队列，pub / sub，原子性，Lua脚本等等。
- Redis可以使用主/从机制来复制其活动，以实现高可用性。
基本上，如果需要你的应用程序在共享相同数据的多个节点上进行扩展，则需要类似Redis（或任何其他远程键/值存储）。


## 常见使用方式

### 主库处理写操作, 从库处理读操作


### CAS乐观锁
  - watch 命令
  - 事务  

可以监视给定的 key, 当exec事务时, 如果监视的任意一个key自从调用watch后发生过变化, 则整个事务会回滚.  
避免了事务中的任务被别人插足先修改而导致数据并非为预期数据的问题.  
可以与 lua 脚本配合, 在事务对 数据进行查询 和 修改的原子操作.